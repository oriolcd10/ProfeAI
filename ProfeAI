import streamlit as st
import openai

# 🔑 API Key desde Streamlit Secrets
openai.api_key = st.secrets["OPENAI_API_KEY"]

# 🧑‍🏫 System prompt de Profe AI
system_prompt = """
Eres Profe AI, un asistente académico que ayuda a estudiantes de instituto a entender y resolver ejercicios o dudas de cualquier materia con explicaciones breves, claras y adaptadas al nivel del curso.

- Responde con claridad, paso a paso, con ejemplos y recomendaciones.
- No hagas tareas completas para copiar.
- Adapta el lenguaje al curso indicado.
"""

# 🎨 Interfaz
st.title("👩‍🏫 Profe AI")
st.write("Resuelve tus dudas del instituto con explicaciones claras y adaptadas a tu curso.")

# Inputs del usuario
curso = st.text_input("📘 Curso (ej. 2º ESO, 1º Bachillerato)")
materia = st.text_input("📚 Materia (ej. mates, historia, lengua, ciencias...)")
pregunta = st.text_area("✏️ Escribe tu ejercicio o duda aquí:")

# Historial de chat en la sesión
if "historial" not in st.session_state:
    st.session_state.historial = []

