import streamlit as st
import openai

# ğŸ”‘ API Key desde Streamlit Secrets
openai.api_key = st.secrets["OPENAI_API_KEY"]

# ğŸ§‘â€ğŸ« System prompt de Profe AI
system_prompt = """
Eres Profe AI, un asistente acadÃ©mico que ayuda a estudiantes de instituto a entender y resolver ejercicios o dudas de cualquier materia con explicaciones breves, claras y adaptadas al nivel del curso.

- Responde con claridad, paso a paso, con ejemplos y recomendaciones.
- No hagas tareas completas para copiar.
- Adapta el lenguaje al curso indicado.
"""

# ğŸ¨ Interfaz
st.title("ğŸ‘©â€ğŸ« Profe AI")
st.write("Resuelve tus dudas del instituto con explicaciones claras y adaptadas a tu curso.")

# Inputs del usuario
curso = st.text_input("ğŸ“˜ Curso (ej. 2Âº ESO, 1Âº Bachillerato)")
materia = st.text_input("ğŸ“š Materia (ej. mates, historia, lengua, ciencias...)")
pregunta = st.text_area("âœï¸ Escribe tu ejercicio o duda aquÃ­:")

# Historial de chat en la sesiÃ³n
if "historial" not in st.session_state:
    st.session_state.historial = []

